{% load static %}
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Sora:wght@100..800&display=swap"
			rel="stylesheet"
		/>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
			crossorigin="anonymous"
		/>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
        <script defer src="{% static 'js/script.js' %}"></script>
		<link rel="stylesheet" href="{% static 'css/style.css' %}" />
	</head>
	<body>
		<div class="overlay"></div>
		<div class="mobile-nav">
			<div class="flex-between">
			  <a href="{% url 'login' %}" class="login-cta">Login/Register</a>
			  <span class="cancel-icon flex-center">
				<svg
				  width="54"
				  height="54"
				  viewBox="0 0 54 54"
				  fill="none"
				  xmlns="http://www.w3.org/2000/svg"
				>
				  <path
					d="M27 0C12.0789 0 0 12.0789 0 27C0 41.9211 12.0789 54 27 54C41.9211 54 54 41.9211 54 27C54 12.0789 41.9211 0 27 0ZM27 51.1579C13.6421 51.1579 2.84211 40.3579 2.84211 27C2.84211 13.6421 13.6421 2.84211 27 2.84211C40.3579 2.84211 51.1579 13.6421 51.1579 27C51.1579 40.3579 40.3579 51.1579 27 51.1579ZM28.9895 27L37.9421 18.0474C38.5105 17.4789 38.5105 16.6263 37.9421 16.0579C37.3737 15.4895 36.521 15.4895 35.9526 16.0579L27 25.0105L18.0474 16.0579C17.4789 15.4895 16.6263 15.4895 16.0579 16.0579C15.4895 16.6263 15.4895 17.4789 16.0579 18.0474L25.0105 27L16.0579 35.9526C15.4895 36.521 15.4895 37.3737 16.0579 37.9421C16.6263 38.5105 17.4789 38.5105 18.0474 37.9421L27 28.9895L35.9526 37.9421C36.521 38.5105 37.3737 38.5105 37.9421 37.9421C38.5105 37.3737 38.5105 36.521 37.9421 35.9526L28.9895 27Z"
					fill="#9835EF"
				  />
				</svg>
			  </span>
			</div>
	  
            <ul class="mobile-nav-links-container flex-column gp-15 mt-5">
                <li><a href="/" class="mobile-nav-link">Home</a></li>
                <li><a href="{% url 'find_campaign' %}" class="mobile-nav-link">Find campaign</a></li>
                <li><a href="{% url 'start_campaign' %}" class="mobile-nav-link">Start campaign</a></li>
                <li><a href="{% url 'profile' %}" class="mobile-nav-link">Profile</a></li>
                <li><a href="{% url 'about' %}" class="mobile-nav-link">About</a></li>
                <li><a href="{% url 'faq' %}" class="mobile-nav-link">FAQ</a></li>
                <li><a href="{% url 'fee_payout' %}" class="mobile-nav-link">Fees & Payment</a></li>
             
			</ul>
        </div>

        <div class="campaign page">
            <nav class="navbar bos sticky-top align-items-center">
                <div class="pd-nav flex-between w-100 align-center">
                       <a href="/">
                            <img class="logo-img" src="{% static '../static/img/Feed-logo.png' %}" alt="logo img" />
                        </a>
                    <div class="nav-util-cta-container d-flex align-items-center gap-4 ms-sm-0 ms-auto me-sm-0 me-2">
                      <a href="{% url 'find_campaign' %}">
                        <button
                            class="search-icon-btn"
                            >
                            <img class="search-icon"  src="{% static '../static/img/svg/search-icon.svg' %}"
                            alt="search icon">
                        </button>
                      </a>
                        <a href="{% url 'start_campaign' %}" class="start-camp-cta">START CAMPAIGN</a>
                    </div>
                    <div class="hamburger">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
    
                    <!-- <div class="nav-cta-container d-flex">
        </div> -->
                </div>
            </nav>

            {% block content %}

            {% endblock content %}
    
            <footer class="util-pg-2 pos-rel mt-5">
                    <div class="footer-bottom-wrapper">
                        <div class="w-100">
                            <div class="flex-wrap gp-20 footer-bottom-link-container mt-5">
                                <a href="#" class="footer-bottom-link">Privacy Policy</a>
                                <a href="#" class="footer-bottom-link">Terms & Conditions</a>
                                <div class="social-media-container flex-wrap">
                                    <a target = "_blank" href="{{social.facebook}}" class="flex-center">
                                        <img
                                          class="social-icon"
                                          src="{% static '../static/img/svg/socials/facebook.svg' %}"
                                          alt="Facebook icon"
                                        />
                                      </a>
                      
                                      <a target = "_blank" href="{{social.twitter}}" class="flex-center">
                                        <img
                                          class="social-icon"
                                          src="{% static '../static/img/svg/socials/twitter.svg' %}"
                                          alt="Twitter icon"
                                        />
                                      </a>
                      
                                      <a target = "_blank" href="{{social.instagram}}" class="flex-center">
                                        <img
                                          class="social-icon"
                                          src="{% static '../static/img/svg/socials/instagram.svg' %}"
                                          alt="Instagram icon"
                                        />
                                      </a>
                      
                                      <a target = "_blank" href="{{social.linkdin}}" class="flex-center">
                                        <img
                                          class="social-icon"
                                          src="{% static '../static/img/svg/socials/linkedIn.svg' %}"
                                          alt="LinkedIn icon"
                                        />
                                      </a>
                      
                                      <a target = "_blank" href="{{social.tiktok}}" class="flex-center">
                                        <img
                                          class="social-icon"
                                          src="{% static '../static/img/svg/socials/tiktok.svg' %}"
                                          alt="Tiktok icon"
                                        />
                                      </a>
                      
                                      <a target = "_blank" href="{{social.whatsapp}}" class="flex-center">
                                        <img
                                          class="social-icon"
                                          src="{% static '../static/img/svg/socials/whatsapp.svg' %}"
                                          alt="Whatsapp icon"
                                        />
                                      </a>
                      
                                      <a target = "_blank" href="{{social.telegram}}" class="flex-center">
                                        <img
                                          class="social-icon"
                                          src="{% static '../static/img/svg/socials/telegram.svg' %}"
                                          alt="Telegram icon"
                                        />
                                      </a>
                      
                                      <a target = "_blank" href="{{social.youtube}}" class="flex-center">
                                        <img
                                          class="social-icon"
                                          src="{% static '../static/img/svg/socials/youtube.svg' %}"
                                          alt="Youtube icon"
                                        />
                                      </a>
                                </div>
                                <div class="copyright-container pos-rel flex gp-15">
                                    <p class="copyright-text">2024 Feed Needs</p>
                                    <span class="dash"></span>
                                    <p class="copyright-text">All rights reserved</p>
                                </div>
                            </div>
                        </div>
                    </div>
            </footer>
        </div>


        <script>
			const hamburger = document.querySelector(".hamburger");
			const cancelIcon = document.querySelector(".mobile-nav .cancel-icon");
			const overlay = document.querySelector(".overlay");
			const mobileNav = document.querySelector(".mobile-nav");
			if (hamburger) {
				hamburger.addEventListener("click", function () {
					overlay.classList.add("visible");
					mobileNav.classList.add("slideIn");
					document.body.classList.add("hide-overflow");
				});
			}

			if (cancelIcon)
				[
					cancelIcon.addEventListener("click", function () {
						overlay.classList.remove("visible");
						mobileNav.classList.remove("slideIn");
						document.body.classList.remove("hide-overflow");
					}),
				];

			
		</script>

        <!-- Toastify script -->
        <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

		{% if messages %}
		<script>
			const messages = [
				{% for message in messages %}
					{
						message: "{{ message }}",
						tags: "{{ message.tags }}"
					},
				{% endfor %}
			];
		
			messages.forEach((msg) => {
				const customElement = document.createElement("div");
				customElement.className = "custom-toast";
		
				// Add content to the custom element
				const img = document.createElement("img");
				img.alt = "Notification Icon";
		
				const messageText = document.createElement("div");
				messageText.className = "message";
				messageText.innerText = msg.message;
		
				// Adjust style based on tag
				const isSuccess = msg.tags.includes("success");
				customElement.style.setProperty("--toast-clr", isSuccess ? "green" : "red");
				img.src = isSuccess 
					? "{% static 'img/svg/check-green.svg' %}" 
					: "{% static 'img/svg/info-red.svg' %}";
		
				customElement.appendChild(img);
				customElement.appendChild(messageText);
		
				// Show toast with custom element
				Toastify({
					node: customElement,
					duration: 5500,
					gravity: "top", // Ensure it appears at the top
					position: "right",  // Ensure it appears at the right
					close : true,
					style: {
						background: "white",
						borderRadius: "8px",
						padding: "0px",
						maxWidth: "350px", // Restrict the width
					},
				}).showToast();
			});
		</script>
		{% endif %}

        <script>
            if(document.querySelector("#phone")){
                const phoneInput = document.querySelector("#phone");
                const iti = window.intlTelInput(phoneInput, {
                initialCountry: "auto", // Automatically detect user's country
                geoIpLookup: function(callback) {
                    fetch('https://ipinfo.io/json?token=YOUR_TOKEN') // Replace YOUR_TOKEN with your IPInfo API token
                    .then(resp => resp.json())
                    .then(data => callback(data.country))
                    .catch(() => callback("us"));
                },
                utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.1.1/js/utils.js" // for number formatting/validation
                });
        
                // Example: Get the selected country code
                phoneInput.addEventListener("blur", () => {
                const selectedCountryData = iti.getSelectedCountryData();
                console.log("Selected country: ", selectedCountryData.name);
                console.log("Dial code: ", selectedCountryData.dialCode);
                });
            }
    
           
        </script>
    </body>
</html>